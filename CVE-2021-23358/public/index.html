<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Custom Template Creator</title>
        <link rel="stylesheet" href="styles.css">
    </head>
<body>
    <h1>Custom Template Creator</h1>
    <form id="templateForm">
        <label for="templateContent">Template Content:</label><br>
        <textarea id="templateContent" name="templateContent" rows="5" cols="50"></textarea><br>
        <label for="variableName">Variable Name:</label>
        <input type="text" id="variableName" name="variableName"><br>
        <label for="variableValues">Variable Values:</label><br>
        <label for="value1">Name:</label>
        <input type="text" id="value1" name="value1"><br>
        <label for="value2">Age:</label>
        <input type="number" id="value2" name="value2"><br>
        <button type="submit">Create Template</button>
    </form>x
    <div id="templateOutput"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.13.1/underscore-min.js"></script>
    <script>
        document.getElementById('templateForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const templateContent = document.getElementById('templateContent').value;
            const variableName = document.getElementById('variableName').value;
            const value1 = document.getElementById('value1').value;
            const value2 = document.getElementById('value2').value;

            const data = {
                [variableName]: {
                    name: value1,
                    age: parseInt(value2)
                }
            };

            fetch('/create-template', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ templateContent, data }),
            })
            .then(response => response.text())
            .then(html => {
                document.getElementById('templateOutput').innerHTML = html;
            });
        });
    </script>
</body>
</html>
